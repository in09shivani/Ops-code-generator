<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LTR Code Generator Pro</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #34495e;
      --accent-color: #3498db;
      --success-color: #2ecc71;
      --warning-color: #f1c40f;
      --danger-color: #e74c3c;
      --light-color: #ecf0f1;
      --dark-color: #2c3e50;
      --gradient-1: linear-gradient(135deg, #2c3e50, #3498db);
      --gradient-2: linear-gradient(135deg, #3498db, #2ecc71);
      --shadow-1: 0 4px 15px rgba(0,0,0,0.1);
      --shadow-2: 0 6px 25px rgba(0,0,0,0.2);
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }
    body {
      background-image: url('https://png.pngtree.com/thumb_back/fh260/background/20230704/pngtree-efficient-delivery-truck-and-smartphone-with-online-tracking-logistics-and-copy-image_3751064.jpg');
      background-size: cover; background-position: center; background-attachment: fixed;
      min-height:100vh; padding:20px; position:relative;
    }
    body::before {
      content:''; position:fixed; top:0; left:0; right:0; bottom:0;
      background:rgba(255,255,255,0.9); backdrop-filter:blur(10px); z-index:-1;
    }
    .container { max-width:1200px; margin:auto; background:rgba(255,255,255,0.95); padding:30px; border-radius:20px; box-shadow:var(--shadow-2); animation:slideUp 0.5s ease-out; }
    .header { background:var(--gradient-1); color:white; padding:25px; border-radius:15px; margin-bottom:30px; text-align:center; position:relative; overflow:hidden; animation:fadeIn 0.5s ease-out; }
    .header::before { content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%; background:linear-gradient(45deg,transparent,rgba(255,255,255,0.1),transparent); transform:rotate(45deg); animation:shimmer 3s infinite; }
    .header h1 { font-size:2.5em; margin-bottom:10px; text-shadow:2px 2px 4px rgba(0,0,0,0.2); }
    .form-section { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; margin-bottom:30px; }
    .form-group { background:white; padding:20px; border-radius:12px; box-shadow:var(--shadow-1); transition:transform 0.3s, box-shadow 0.3s; }
    .form-group:hover { transform:translateY(-5px); box-shadow:var(--shadow-2); }
    label { display:block; margin-bottom:10px; font-weight:500; color:var(--dark-color); font-size:1rem; }
    select, input { width:100%; padding:12px; border:2px solid #e0e0e0; border-radius:8px; font-size:1rem; transition:all 0.3s; background-color:white; }
    select:focus, input:focus { outline:none; border-color:var(--accent-color); box-shadow:0 0 0 3px rgba(52,152,219,0.2); }
    .generate-btn { background:var(--gradient-2); color:white; padding:15px 30px; border:none; border-radius:12px; cursor:pointer; width:100%; font-size:1.1rem; font-weight:600; text-transform:uppercase; letter-spacing:1px; transition:all 0.3s; position:relative; overflow:hidden; }
    .generate-btn:hover { transform:translateY(-2px); box-shadow:var(--shadow-2); }
    .generate-btn::after { content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%; background:linear-gradient(45deg,transparent,rgba(255,255,255,0.2),transparent); transform:rotate(45deg); transition:0.5s; }
    .generate-btn:hover::after { left:100%; }
    .output-section { background:white; padding:25px; border-radius:12px; box-shadow:var(--shadow-1); margin-top:30px; position:relative; }
    #outputText { white-space:pre-wrap; font-family:'Courier New',monospace; line-height:1.6; padding:20px; background-color:#f8f9fa; border-radius:8px; border:1px solid #e9ecef; margin-top:15px; }
    .copy-btn { position:absolute; top:15px; right:15px; background:var(--accent-color); color:white; border:none; border-radius:6px; padding:8px 15px; cursor:pointer; transition:all 0.3s; }
    .copy-btn:hover { background:var(--secondary-color); transform:translateY(-2px); }
    @keyframes slideUp { from{transform:translateY(50px);opacity:0;} to{transform:translateY(0);opacity:1;} }
    @keyframes fadeIn { from{opacity:0;} to{opacity:1;} }
    @keyframes shimmer { 0%{left:-150%;} 100%{left:150%;} }
    .toast { position:fixed; bottom:20px; right:20px; background:var(--success-color); color:white; padding:15px 25px; border-radius:8px; box-shadow:var(--shadow-1); opacity:0; transform:translateY(100%); transition:all 0.3s; }
    .toast.show { opacity:1; transform:translateY(0); }
    @media (max-width:768px){ .container{padding:15px;margin:10px;} .header{padding:20px;} .header h1{font-size:1.8em;} .form-section{grid-template-columns:1fr;} }
    .required { color:var(--danger-color); margin-left:4px; }
    .icon-input{position:relative;} .icon-input i{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--secondary-color);} .icon-input input{padding-left:35px;}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><i class="fas fa-code"></i> LTR Code Generator Pro</h1>
      <p>Generate professional LTR codes with ease</p>
    </div>

    <div class="form-section">
      <div class="form-group">
        <label for="situation"><i class="fas fa-list-alt"></i> Select Situation</label>
        <select id="situation" onchange="showInputs()">
          <option value="">Select a situation...</option>
          <option value="government_authority">Government Authority Verification</option>
          <option value="facility_checkin">Facility check-in not Done</option>
          <option value="not_late">Not Late</option>
          <option value="amazon_schedule">Amazon Schedule Error</option>
          <option value="previous_stop">Previous Amazon Stop</option>
          <option value="driver_error">Driver Error</option>
          <option value="origin_hub">Origin hub late depart</option>
          <option value="carrier_not_responding">Carrier not responding</option>
          <option value="dispatch_error">Dispatch Error</option>
          <option value="traffic">Traffic</option>
          <option value="road_work">Road work closure</option>
          <option value="weather">Weather</option>
          <option value="driver_sick">Driver Sick</option>
          <option value="mechanical_breakdown">Mechanical Truck breakdown</option>
          <option value="electrical_breakdown">Electrical Truck breakdown</option>
          <option value="tire_puncture">Tire Puncture Burst</option>
          <option value="accident">Truck Accident</option>
          <option value="no_entry">No Entry</option>
          <option value="tracking_ontime">Carrier tracking on Time</option>
        </select>
      </div>
    </div>

    <div id="dynamicInputs" class="form-section"></div>
    <button class="generate-btn" onclick="generateCode()"><i class="fas fa-magic"></i> Generate Code</button>

    <div class="output-section">
      <h3><i class="fas fa-code"></i> Generated Code</h3>
      <button class="copy-btn" onclick="copyToClipboard()"><i class="fas fa-copy"></i> Copy</button>
      <div id="outputText"></div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    const remarkTemplates = {
      government_authority: "Vehicle is halted at {checkpoint_location} for {verification_type} verification by {authority_type}. Reason for verification: {reason}. Clearance time: {clearance_time}. ETA for reporting at destination is {eta}.",
      facility_checkin: "Vehicle physically reached station location at {arrival_time} and YMS check-in is delayed by stations team.",
      not_late: "Same vehicle is used to depart load under VRID {vrid} which has the same SAT as this VRID. Vehicle reachached 1st destination at {first_arrival_time}.",
      amazon_schedule: "Same vehicle is used to depart load under VRID {vrid} which has the same SAT as this VRID. Vehicle reached 1st destination at {first_arrival_time} and is delayed in arrival at this node due to clubbing of load.",
      previous_stop: "As per GPS, Vehicle reached {previous_node} at {arrival_time} and got delayed for unloading which led to delay in arrival at {current_node} for next Placement.",
      driver_error: "Vehicle physically reached station location at {arrival_time} after FMC SAT as driver {reason} which led to delay in arrival at destination.",
      origin_hub: "Vehicle is running with a delay as it was departed late from origin. SDT of vehicle was {sdt_time} but it was physically departed at {actual_depart_time}",
      carrier_not_responding: "Unable to verify the actual arrival time of the vehicle at station and GPS information is not available. Multiple attempts made to contact carrier POCs with no response.",
      dispatch_error: "VRID shows packages of {wrong_station} station due to which destination is unable to do YMS on this VRID. However, vehicle physically reached destination at {arrival_time}.",
      traffic: "As per update from {vendor_poc}, there is a huge traffic jam at {location} due to which this vehicle is running with a delay. ETA for reporting at destination is {eta}.",
      road_work: "As per update from {vendor_poc}, there is road work going on at {location} due to which this vehicle is running with a delay. ETA for reporting at destination is {eta}.",
      weather: "Vehicle is halted/moving slowly at {location} due to bad weather conditions. ETA to report at destination is {eta}.",
      driver_sick: "Vehicle is halted/moving slowly at {location} as driver fell sick on transit. {action_taken}. ETA to report at destination is {eta}.",
      mechanical_breakdown: "As per update from {vendor_poc}, truck broke down at {location} due to {issue} issue. Vendor is arranging {solution}. ETA for reporting at destination is {eta}.",
      electrical_breakdown: "As per update from {vendor_poc}, truck broke down at {location} due to {issue} issue. Vendor is arranging {solution}. ETA for reporting at destination is {eta}.",
      tire_puncture: "As per update from {vendor_poc}, vehicle tire suffered a puncture at {location}. Vendor is arranging {solution}. ETA for reporting at destination is {eta}.",
      accident: "As per update from {vendor_poc}, truck met with an accident at {location}. {injury_status}. Vendor is arranging {solution}. ETA for reporting at destination is {eta}.",
      no_entry: "As per update from {vendor_poc}, vehicle is stuck in No Entry at {location}. ETA for reporting at destination is {eta}.",
      tracking_ontime: "As per update from {source}, vehicle is running at {location} and will reach destination by {eta}."
    };

    function showToast(message, type='success') {
      const toast=document.getElementById('toast');
      toast.textContent=message;
      toast.style.backgroundColor= type==='success' ? 'var(--success-color)' : 'var(--danger-color)';
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'),3000);
    }

    function showInputs(){
      const situation=document.getElementById('situation').value;
      const container=document.getElementById('dynamicInputs');
      container.innerHTML='';
      if(!situation) return;
      const template=remarkTemplates[situation];
      if(template){
        const placeholders=template.match(/\{(\w+)\}/g) || [];
        placeholders.forEach(ph=>{
          const fieldName=ph.replace(/[{}]/g,'');
          addInputField(container,fieldName,true);
        });
      }
      const commonFields=[
        {id:'fmc_gps',icon:'fa-satellite-dish'},
        {id:'current_status',icon:'fa-info-circle'},
        {id:'incident_location',icon:'fa-map-marker-alt'},
        {id:'current_location',icon:'fa-location-arrow'},
        {id:'delay_hours',icon:'fa-clock'},
        {id:'source',icon:'fa-database'},
        {id:'incident_time',icon:'fa-calendar-alt'},
        {id:'distance',icon:'fa-route'},
        {id:'escalated',icon:'fa-exclamation-triangle'}
      ];
      commonFields.forEach(f=>addInputField(container,f.id,false,f.icon));
    }

    function addInputField(container,field,isRequired,icon='fa-input'){
      const div=document.createElement('div'); div.className='form-group';
      const label=field.replace(/_/g,' ').replace(/\b\w/g,l=>l.toUpperCase());
      div.innerHTML=`
        <label for="${field}"><i class="fas ${icon}"></i> ${label} ${isRequired?'<span class="required">*</span>':''}</label>
        <div class="icon-input">
          <input type="text" id="${field}" placeholder="Enter ${label.toLowerCase()}" ${isRequired?'required':''}>
        </div>`;
      container.appendChild(div);
    }

    function generateCode(){
      const situation=document.getElementById('situation').value;
      if(!situation){ showToast('Please select a situation','error'); return;}
      let remarkTemplate=remarkTemplates[situation];
      const inputs=document.getElementById('dynamicInputs').getElementsByTagName('input');
      for(let input of inputs){  
        if(input.required && !input.value){ 
          showToast(`Please fill in ${input.id.replace(/_/g,' ')}`,'error'); 
          input.focus(); 
          return; 
        }
        remarkTemplate=remarkTemplate.replace(new RegExp(`{${input.id}}`,'g'), input.value || '[MISSING]');
      }
      const output=`Remarks: ${remarkTemplate}
FMC gps flowing: ${document.getElementById('fmc_gps').value || '[MISSING]'}
Current Status: ${document.getElementById('current_status').value || '[MISSING]'}
Location of Incident: ${document.getElementById('incident_location').value || '[MISSING]'}
Current Location: ${document.getElementById('current_location').value || '[MISSING]'}
Delay Hours: ${document.getElementById('delay_hours').value || '[MISSING]'}
Source of information: ${document.getElementById('source').value || '[MISSING]'}
Time of Incident: ${document.getElementById('incident_time').value || '[MISSING]'}
Distance to Cover: ${document.getElementById('distance').value || '[MISSING]'}
Escalated to Regional Team: ${document.getElementById('escalated').value || '[MISSING]'}`;
      document.getElementById('outputText').textContent=output;
      showToast('Code generated successfully!');
    }

    function copyToClipboard(){
      const text=document.getElementById('outputText').textContent;
      if(!text){ 
        showToast('No code to copy','error'); 
        return; 
      }
      navigator.clipboard.writeText(text)
        .then(()=>showToast('Code copied to clipboard!'))
        .catch(()=>showToast('Failed to copy code','error'));
    }

    document.addEventListener('keydown',e=>{
      if(e.ctrlKey && e.key==='Enter'){ 
        generateCode(); 
      }
      if(e.ctrlKey && e.key==='c' && e.target.tagName!=='INPUT'){ 
        copyToClipboard(); 
      }
    });
  </script>
</body>
</html>
